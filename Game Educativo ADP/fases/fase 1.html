<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Vamos Brincar de Dinheiro?</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    #divMoedas img {
      margin: 5px;
      width: 60px;
    }
  </style>
</head>
<body class="container my-4">

  <div class="row">
    <div class="col-sm-5">
      <img src="imagens_fase1/1_00.jpg" alt="Several Brazilian coins displayed together for a money counting activity, set against a simple background, used in an educational game to teach currency values" class="img-fluid">
    </div>

    <div class="col-sm-7" id="divMoedas">
      <form>
        <h1>Vamos Brincar de Dinheiro?</h1>
        <p>
          <label for="inSoma">A soma das moedas exibidas abaixo é:</label>
          <input type="number" min="0" step="0.05" class="form-control"
                 id="inSoma" required autofocus>
        </p>
        <p>
          <input type="submit" class="btn btn-primary" value="Conferir Resposta">
          <input type="reset" class="btn btn-danger" value="Exibir Novas Moedas">
        </p>
      </form>
    </div>
  </div>

  <div id="alerta"></div>

  <script>
    const frm = document.querySelector("form");
    const dvMoedas = document.querySelector("#divMoedas");
    const dvAlerta = document.querySelector("#alerta");

    let total = 0;

    // função que insere imagens de moedas
    function criarMoedas(qtde, arquivo, alt, valor) {
      for (let i = 0; i < qtde; i++) {
        const img = document.createElement("img");
        img.src = "imagens_fase1/" + arquivo;
        img.alt = alt;
        dvMoedas.appendChild(img);
        total += valor;
      }
    }

    // quando a página carrega
    window.addEventListener("load", () => {
      const num1   = Math.ceil(Math.random() * 5);
      const num050 = Math.ceil(Math.random() * 5);
      const num025 = Math.ceil(Math.random() * 5);
      const num010 = Math.ceil(Math.random() * 5);

      criarMoedas(num1,   "1_00.jpg",  "Moeda de 1 real", 1.00);
      criarMoedas(num050, "0_50.jpg",  "Moeda de 50 centavos", 0.50);
      criarMoedas(num025, "0_25.jpg",  "Moeda de 25 centavos", 0.25);
      criarMoedas(num010, "0_10.jpg",  "Moeda de 10 centavos", 0.10);
    });

    // conferir resposta
    frm.addEventListener("submit", e => {
      e.preventDefault();
      const soma = Number(frm.inSoma.value);

      let msg = "";
      let classe = "";
      if (Math.abs(soma - total) < 0.001) {
        msg = "Parabéns! Você acertou a soma!";
        classe = "alert-success";
      } else {
        msg = `Ops... A resposta correta é ${total.toFixed(2)}`;
        classe = "alert-danger";
      }

      dvAlerta.innerHTML =
        `<div class="alert ${classe} mt-3">${msg}</div>`;
    });

    // exibir novas moedas (reset)
    frm.addEventListener("reset", () => {
      window.location.reload();
    });
  </script>

</body>
</html>