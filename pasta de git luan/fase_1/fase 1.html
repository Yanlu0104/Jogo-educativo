<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Vamos Brincar de cocos?</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        /* ************************************** */
        /* 1. FUNDO DA PÁGINA (TEMA REDE NA ILHA) */
        /* ************************************** */
        body {
            /* **ATENÇÃO:** Mude para o nome exato do arquivo da rede se ele for diferente de 'imagem_ilhaa.jpg' */
            background-image: url('fundo_jogo/imagem_fase1.png'); 
            
            /* Ajustes para preencher a tela */
            background-size: cover;          
            background-position: center bottom; 
            
            background-repeat: no-repeat;    
            background-attachment: fixed;    
            background-color: #87ceeb;       /* Cor de backup (azul claro) */
            
            /* Melhoria de Qualidade Visual: Levemente mais saturado */
            filter: saturate(1.1);
        }

        /* ************************************** */
        /* 2. FUNDO PARA O CONTEÚDO (MELHOR LEITURA E VISUAL) */
        /* ************************************** */
        .container {
            /* Fundo Semi-Transparente da Areia/Madeira */
            background-color: rgba(0, 0, 0, 0); /* Quase branco/bege para bom contraste */
            
            padding: 30px; 
            border-radius: 15px; 
            
            /* Efeito de Sombra */
            
            margin-top: 5vh; 
            max-width: 800px; 
        }

        /* Estilo do Título (h1) */
        h1 {
            color: #d14949; /* Vermelho/Laranja da Rede */
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            border-bottom: 2px solid #55c65e; /* Linha verde das palmeiras */
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* Estilo do Label e Texto Principal */
        label {
            font-weight: bold;
            color: #382c21; /* Marrom escuro da madeira/tronco */
        }
        
        /* Estilo da Caixa de Input */
        .form-control {
            border: 2px solid #a8e0e5; /* Borda ciano/azul do mar */
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        }
        
        /* Estilo do Botão Principal (Conferir Resposta) */
        .btn-primary {
            background-color: #55c65e; /* Verde das Palmeiras */
            border-color: #3b8e43;
            transition: all 0.2s;
        }
        .btn-primary:hover {
            background-color: #3b8e43; 
            border-color: #3b8e43;
        }

        /* Estilo do Botão Secundário (Exibir Novas Moedas) */
        .btn-danger {
            background-color: #d14949; /* Vermelho/Laranja da Rede */
            border-color: #a33838;
            color: #fff; 
            transition: all 0.2s;
        }
        .btn-danger:hover {
            background-color: #a33838; 
            border-color: #a33838;
            color: #fff;
        }


        /* 3. ESTILOS PARA OS COCOS COM VALORES */
        .coco-item {
            display: inline-block; 
            text-align: center; 
            margin: 10px;
            transition: transform 0.2s;
        }
        .coco-item:hover {
            transform: translateY(-3px); 
        }


        .coco-item img {
            width: 50px; 
            display: block; 
            margin: 0 auto; 
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
        }

        .coco-valor {
            font-size: 1em; 
            font-weight: bold;
            color: #d14949; /* Cor do Valor: Vermelho da Rede */
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
            display: block;
            margin-top: 2px;
        }
        
        .img-fluid {
            max-width: 100%;
            height: auto;
            filter: drop-shadow(8px 8px 10px rgba(0,0,0,0.5));
        }

        /* Feedback de Alerta */
        #alerta .alert {
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 8px;
        }
        #alerta .alert-success {
            background-color: #55c65e; /* Verde das Palmeiras */
            color: #fff;
            border-color: #3b8e43;
        }
        #alerta .alert-danger {
            background-color: #d14949; /* Vermelho da Rede */
            color: #fff;
            border-color: #a33838;
        }
    </style>
</head>
<body class="my-4">
    <div class="container">
        <div class="row">
            <div class="col-sm-5">
                <img src="./imagens_fase1/coco(4).png" alt="coco de 1 real" class="img-fluid">
            </div>

            <div class="col-sm-7">
                <form>
                    <h1>Vamos Brincar de cocos?</h1>
                    <p>
                        <label for="inSoma">A soma das moedas exibidas abaixo é:</label>
                        <input type="number" min="0" step="0.05" class="form-control" id="inSoma" required autofocus>
                    </p>
                    <p>
                        <input type="submit" class="btn btn-primary" value="Conferir Resposta">
                        <input type="reset" class="btn btn-danger" value="Exibir Novas Moedas">
                    </p>
                </form>
                
                <div id="divItensCoco" class="mt-4"></div>
            </div>
        </div>

        <div id="alerta"></div>
    </div> 

    <script>
        const frm = document.querySelector("form");
        const dvItensCoco = document.querySelector("#divItensCoco"); 
        const dvAlerta = document.querySelector("#alerta");

        let total = 0;

        function criarMoedas(qtde, arquivo, alt, valor) {
            for (let i = 0; i < qtde; i++) {
                const divItem = document.createElement("div");
                divItem.classList.add("coco-item");

                const img = document.createElement("img");
                img.src = "./imagens_fase1/" + arquivo; 
                img.alt = alt;

                const spanValor = document.createElement("span");
                spanValor.classList.add("coco-valor");
                
                spanValor.textContent = valor.toLocaleString('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                });

                divItem.appendChild(img);
                divItem.appendChild(spanValor);

                dvItensCoco.appendChild(divItem);

                total += valor;
            }
        }

        window.addEventListener("load", () => {
            const num1   = Math.ceil(Math.random() * 3);
            const num050 = Math.ceil(Math.random() * 3);
            const num025 = Math.ceil(Math.random() * 3);
            const num010 = Math.ceil(Math.random() * 3);

            criarMoedas(num1, "coco(4).png", "coco de 1 real", 1.00);
            criarMoedas(num050, "coco(3).png", "coco de 50 centavos", 0.50);
            criarMoedas(num025, "coco(1).png", "coco de 25 centavos", 0.25);
            criarMoedas(num010, "coco(0).png", "coco de 10 centavos", 0.10);
        });

        frm.addEventListener("submit", e => {
            e.preventDefault();
            const soma = Number(frm.inSoma.value);

            const somaArredondada = Math.round(soma * 100) / 100;
            const totalArredondado = Math.round(total * 100) / 100;

            let msg = "";
            let classe = "";
            if (somaArredondada === totalArredondado) {
                msg = "Parabéns! Você acertou a soma!";
                classe = "alert-success";
            } else {
                msg = `Ops... A resposta correta é ${totalArredondado.toFixed(2)}`;
                classe = "alert-danger";
            }

            dvAlerta.innerHTML = `<div class="alert ${classe} mt-3">${msg}</div>`;
        });

        frm.addEventListener("reset", () => {
            window.location.reload();
        });
    </script>
</body>
</html>